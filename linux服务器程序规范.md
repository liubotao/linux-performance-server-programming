## Linux服务器程序规范

### 日志

Liunx系统日志，服务器的调试和维护都需要一个专业的日志系统。Linux提供一个守护进程来处理系统日志-syslogd。不过现在Linux都是使用他的开发版-rsyslog  

rsyslog守护进程即能接受用户进程输出的日志，又能接受内核日志，用户进程是通过调用syslog函数生成系统日志的。该函数将日志输出到一个UNIX本地域socket类型的文件/dev/log中,rsyslog则监听该文件以获取用户进程的输出。内核日志在老系统是通过另外一个守护进程rklogd来管理的，rsyslog利用额外的模块实现相同的功能，内核日志由printk等函数打印至/内核的环状缓存(ring buffer)中。环状缓存的内容直接映射到/proc/kmsg文件中。rsyslogd则通过读取该文件获取内核日志。   

rsyslog守护进程接受用户进程或者内核进程，会将他们输出至特点的日志系统。默认情况调试信息会保存到/var/log/debug文件，普通信息会保存到/var/log/messages文件中，内核消息则保存至/var/log/kern.log中。不过，日志系统具体如何分发，可以在rsyslogd的配置文件中设置。rsyslog的主配置文件是/etc/rsyslog.conf,其中主要可以设置的选项包括:   

*  内核日志输入路径
*  是否接收UDP日志以及监控端口(默认是514)
*  是否接收TCP日志以及监控端口
*  日志文件的权限
*  包括哪些子配置文件

ryslog的子配置文件则指定各类日志的目标存储文件


### 用户信息

用户信息对于服务器程序的安全性来说很重要，比如大部门服务必须以root身份启动，但不能以root身份运行。主要用户信息包括UID当前进程的真实用户，有效用户（EUID），真实组ID（GID）和有效组ID（EGID）

### 进程间关系

进程组 Linux下每一个进程隶属于一个进程组,因此它们除了PID信息以外，还有进程组ID（PGID）
会话  一些有关联的进程组将形成一个会话(session)  
用ps命令查看进程关系 

    $ ps -o pid,ppid,pgid,sid,comm | less
    
### 系统资源限制

### 改变工作目录和根目录  

###  服务程序后台化